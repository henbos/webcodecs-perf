<html>
<meta charset="utf-8">

<head>
  <title>WebCodecs VP9 Test</title>
  <style>
    html {
      font-family: Lato;
    }

    .buttons {
      margin: 2em 0;
    }
  </style>
</head>

<body>
  <h1>WebCodecs VP9 encoding</h1>
  <p>This is a modified version of <a href="https://jianjunz.github.io/webcodecs-perf/vp9-key-frame/vp9.html">
  jianjunz's page</a>. The difference is that this page starts with the first
  two frame having keyFrame:false before doing the single or consecutive key
  frames, and the first frame is encoded as downscaled by 2.</p>
  <p>Key frame mode: </p>
  <p><input type="radio" name="key-frame" value="single"/>single - the first frame is a key frame</p>
  <p><input type="radio" name="key-frame" id="key-frame-consecutive" value="consecutive" checked/>consecutive - the first two frames are key frames</p>
  <p>Resolution: <select id="resolutions-select"></select></p>
  <p style="display:none">Scalability mode: <select id="scalability-select"></select></p>
  <p>Hardware acceleration: <select id="hw-select"></select></p>
  <div class="buttons">
    <button type="button" id="start-encoding">Start encoding</button>
    <button type="button" id="key-frame-request">Request a key frame</button>
  </div>
  <p id="stats"></p>
  <div>
    <p>Left is camera preview, right is WebCodecs encoded and decoded stream</p>
    <video id="local-preview" controls width="320" height="240"></video>
    <video id="playback" controls width="320" height="240"></video>
  </div>
  <script type="module" src="js/vp9.mjs"></script>
</body>
<link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>

</html>
